
<script src="../../pubnub.js"></script>


<script>

var pubnub = PUBNUB.init({
    write_key: "ds",
    read_key: "ds",
    secret_key : 'ds',
    origin: "dara25.devbuild.pubnub.com"
});

function sync(location) {
    var x = pubnub.sync(location);

    x.on.ready(function(ref){
        console.log('READY ' + location);
        console.log(JSON.stringify(ref.value(), null, 2));
    });

    x.on.merge(function(ref){
        console.log('MERGE ' + location);
        console.log(JSON.stringify(ref.value(), null, 2));
    });

    x.on.replace(function(ref){
        console.log('REPLACE ' + location);
        console.log('REPLACE ' + JSON.stringify(ref.value(), null, 2));
    });

    x.on.remove(function(ref){
        console.log('REMOVE ' + location);
        console.log(JSON.stringify(x.value(), null, 2));
    });

    x.on.resync(function(ref){
        console.log('RESYNC ' + location);
        console.log(JSON.stringify(x.value(), null, 2));
    });

    x.on.network.connect(function(ref){
        console.log('CONNECT ' + location);
    });

    x.on.network.reconnect(function(ref){
        console.log('RECONNECT ' + location);
    });

    x.on.network.disconnect(function(ref){
        console.log('DISCONNECT ' + location);
    });
    return x;
}

//pubnub.merge("ad", {"a":"n"}, function(r){console.log(JSON.stringify(r))}, function(r){console.log(JSON.stringify(r))});


//pubnub.snapshot("ad.a", function(r){console.log(JSON.stringify(r))}, function(r){console.log(JSON.stringify(r))});
</script>